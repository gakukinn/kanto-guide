# 可视化页面生成器 - 设置与使用指南

## 📋 概述

可视化页面生成器是一个用户友好的工具，让您无需编程知识即可创建花火活动详情页面。只需填写表单、选择地图位置、上传图片，系统将自动生成完整的页面文件和数据库记录。

## 🚀 快速开始

### 1. 访问生成器
在浏览器中访问：`http://localhost:3000/admin/page-generator`

### 2. 环境配置

#### Google Maps API设置（可选但推荐）
1. 访问 [Google Cloud Console](https://console.cloud.google.com/)
2. 创建或选择项目
3. 启用以下API：
   - Maps JavaScript API
   - Places API
4. 创建API密钥
5. 在 `.env.local` 文件中添加：
   ```
   NEXT_PUBLIC_GOOGLE_MAPS_API_KEY="your_api_key_here"
   ```

#### 无API密钥的备选方案
如果没有配置Google Maps API，地图组件会显示友好的错误提示，但不影响其他功能的使用。您仍可以：
- 手动输入地址信息
- 填写所有其他字段
- 正常生成页面

## 📝 使用步骤

### 第一步：基础信息
- **活动名称** ⭐（必填）：例如"第77回镰仓花火大会"
- **英文名称**：例如"Kamakura Fireworks Festival"
- **日文名称**：例如"第77回鎌倉花火大会"
- **地区** ⭐（必填）：选择活动所在地区

### 第二步：时间信息
- **举办日期** ⭐（必填）：选择活动日期
- **开始时间**：例如"19:30"
- **结束时间**：例如"20:20"
- **持续时间**：例如"约50分钟"

### 第三步：地点信息
- **会场名称** ⭐（必填）：例如"由比ヶ浜海岸"
- **详细地址**：例如"神奈川县镰仓市由比ヶ浜"
- **地点描述**：例如"海岸沿线最佳观赏位置"
- **地图选择**：点击地图选择精确位置

### 第四步：活动详情
- **花火数量**：例如"约2500发"
- **预计观众**：例如"约16万人"
- **活动类型**：选择花火类型
- **活动亮点**：用逗号分隔，例如"海上花火,有料席,音乐花火"
- **详细描述**：介绍活动背景和特色

### 第五步：实用信息
- **交通方式**：详细的交通指南
- **停车信息**：例如"无专用停车场"
- **天气备案**：例如"雨天中止"
- **票务信息**：座位和门票信息
- **官方网站**：完整的URL
- **联系电话**：官方联系方式

### 第六步：图片上传（开发中）
- 支持拖拽上传
- 支持JPG、PNG格式
- 自动优化图片大小

## 🎯 功能特色

### ✅ 实时预览
- 边填写边预览页面效果
- 数据完整性实时检查
- 错误和警告提示

### ✅ 智能验证
- 必填字段检查
- 日期格式验证
- URL格式验证
- 重复数据检测

### ✅ 自动生成
- 创建完整的Next.js页面文件
- 自动生成SEO元数据
- 保存到Prisma数据库
- 生成URL友好的页面路径

### ✅ 地图集成
- 可视化位置选择
- 地点搜索功能
- 拖拽调整位置
- 自动生成Google Maps链接

## 📁 生成的文件结构

```
app/
  {region}/
    hanabi/
      {slug}/
        page.tsx    # 自动生成的页面文件
```

例如：`app/kanagawa/hanabi/kamakura-hanabi-2025/page.tsx`

## 🔧 技术细节

### 数据流程
1. 表单数据验证
2. 生成URL slug
3. 检查重复数据
4. 创建页面文件
5. 保存到数据库
6. 返回结果

### URL生成规则
- 移除特殊字符
- 转换中文关键词
- 添加年份后缀
- 确保URL唯一性

### SEO优化
- 自动生成标题和描述
- 结构化数据标记
- 开放图谱元数据
- 规范链接设置

## 🚨 注意事项

### 数据准确性
- 所有信息必须真实准确
- 不得编造或推测数据
- 确保联系信息有效

### 法律合规
- 仅使用官方或授权信息
- 遵守版权和商标法
- 确保内容合法合规

### 系统限制
- 页面ID必须唯一
- 图片文件大小限制
- 地区选择必须准确

## ❓ 常见问题

### Q: 地图不显示怎么办？
A: 请检查Google Maps API密钥配置，或联系管理员。即使没有地图，也可以正常创建页面。

### Q: 生成失败怎么办？
A: 检查错误提示，确保必填字段已填写，数据格式正确，且活动名称和日期不重复。

### Q: 如何修改已生成的页面？
A: 目前需要手动编辑文件或删除后重新生成。后续会添加编辑功能。

### Q: 支持哪些图片格式？
A: 支持JPG、PNG格式，建议使用高质量图片，系统会自动优化。

## 📞 技术支持

如有技术问题或需要帮助，请联系开发团队或查看项目文档。

---

**最后更新**: 2025年6月21日 